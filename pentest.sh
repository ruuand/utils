#!/bin/bash
# This script sets an environment for pentesting. It creates various folders and
# sets some environement variables.
# 

# Checking if a name is given
if [[ !$# -eq 1 ]] 
then
    echo "A name for the pentest is missing :("
    exit 0
fi

# If the folder doesn't exist then we create it
if [[ ! -e $HOME/pentest ]]
then
   mkdir $HOME/pentest
   mkdir $HOME/pentest/${1}
   mkdir $HOME/pentest/${1}/nmap
   mkdir $HOME/pentest/${1}/script_logs
fi

# Resetting all env variables
echo "export PENTEST=$HOME/pentest/${1}" > $HOME/.pentest_env
echo "export NMAP_FOLDER=$HOME/pentest/${1}/nmap" >> $HOME/.pentest_env
echo "export SCRIPT_FOLDER=$HOME/pentest/${1}/script_logs" >> $HOME/.pentest_env
echo "export MSF_FOLDER=$HOME/pentest/${1}/msf_logs" >> $HOME/.pentest_env
source $HOME/.pentest_env

echo "Everything is set in $HOME/pentest/${1}. Let's root this shit !"
